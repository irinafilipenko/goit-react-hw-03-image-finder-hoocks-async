(this["webpackJsonpgoit-react-hw-04-image-finder-hoocks-async"]=this["webpackJsonpgoit-react-hw-04-image-finder-hoocks-async"]||[]).push([[0],{15:function(e,t,a){e.exports={loader:"Loader_loader__2Hb73"}},16:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2o6Ho",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1CqRs"}},17:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3LWO8",Modal:"Modal_Modal__3Gu7y"}},28:function(e,t,a){e.exports={image:"App_image__2zUJU",App:"App_App__2dXQE"}},29:function(e,t,a){e.exports={container:"Container_container__3O5G7"}},30:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2u-y_"}},32:function(e,t,a){e.exports={Button:"Button_Button__1LU-d"}},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3iUW3",SearchForm:"Searchbar_SearchForm__bnLwh",SearchForm_button:"Searchbar_SearchForm_button__Qw3dH",SearchForm_button_label:"Searchbar_SearchForm_button_label__1JJ7Z",SearchForm_input:"Searchbar_SearchForm_input__3_7zx"}},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),s=a(5),i=a.n(s),l=a(18),u=a(7),m=a(8),d=a(9),h=a(11),p=a(10),b=a(12);a(39);function g(){b.b.error("Please enter a valid request")}a(40);var j=a(14),f=a.n(j),_=a(15),O=a.n(_),v=a(1),x=function(){return Object(v.jsx)("div",{className:O.a.loader,children:Object(v.jsx)(f.a,{type:"Circles",color:"#00BFFF",height:300,width:300})})},y=function(){return Object(v.jsx)("div",{className:O.a.loader,children:Object(v.jsx)(f.a,{type:"Bars",color:"#00BFFF",height:200,width:200})})},S=a(28),I=a.n(S),k=a(29),w=a.n(k),C=function(e){var t=e.children;return Object(v.jsx)("div",{className:w.a.container,children:t})},N=a(6),F=a.n(N),L=function(e){var t=e.onSearch;return Object(v.jsx)("header",{className:F.a.Searchbar,children:Object(v.jsxs)("form",{className:F.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.pictureName.value),e.target.elements.pictureName.value=" "},children:[Object(v.jsx)("button",{type:"submit",className:F.a.SearchForm_button,children:Object(v.jsx)("span",{className:F.a.SearchForm_button_label,children:"Search"})}),Object(v.jsx)("input",{className:F.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,name:"pictureName",placeholder:"Search images and photos"})]})})},U=a(30),G=a.n(U),M=a(16),B=a.n(M);var R=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=e.handleImageClick;return Object(v.jsx)("li",{className:B.a.ImageGalleryItem,children:Object(v.jsx)("img",{src:t,alt:n,className:B.a.ImageGalleryItem_image,onClick:function(){r(a,n)}})})},E=function(e){var t=e.pictures,a=e.handleImageClick;return Object(v.jsx)("ul",{className:G.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(v.jsx)(R,{webformatURL:n,largeImageURL:r,tags:c,handleImageClick:a},t)}))})},P=a(31),T=a.n(P),A=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pixabay.com/api","21672899-2a5ee6aa4aab0c8363895dd3b",e.next=4,T.a.get("".concat("https://pixabay.com/api","/?key=").concat("21672899-2a5ee6aa4aab0c8363895dd3b","&q=").concat(t,"&image_type=photo&page&per_page=12&page=").concat(a));case 4:return n=e.sent,e.next=7,n.data.hits;case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=a(19),J=a(33),H=a(32),D=a.n(H),K=["onClick"];function W(e){var t=e.onClick,a=Object(J.a)(e,K);return Object(v.jsx)("button",Object(q.a)(Object(q.a)({type:"submit",className:D.a.Button,onClick:t},a),{},{children:Object(v.jsx)("span",{children:"Load More"})}))}W.defaultProps={onClick:function(){return null}};var z=a(17),Q=a.n(z),X=document.querySelector("#modalroot"),Z=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeydown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(v.jsx)("div",{className:Q.a.Overlay,onClick:this.handleBackdropClick,children:Object(v.jsx)("div",{className:Q.a.Modal,children:this.props.children})}),X)}}]),a}(n.Component);Z.defaultProps={onClose:function(){return null},children:null};var V=Z,Y=a.p+"static/media/search-g722c6413f_640.935da0ed.jpg",$="idle",ee="pending",te="resolved",ae="rejected",ne=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pictureName:null,pictures:[],status:$,page:1,largeImageURL:null,imgTags:"",loader:!1},e.onModalClose=function(){e.setState({largeImageURL:null})},e.hideLoaderInModal=function(){return e.setState({loader:!1})},e.handleImageClick=function(t,a){e.setState({largeImageURL:t,imgTags:a,loader:!0})},e.handleFormSubmit=function(t){e.state.pictureName===t||(""!==t.trim()?(e.resetState(),e.setState({pictureName:t})):g())},e.handleNameChange=function(t){e.setState({pictureName:t})},e.resetState=function(){e.setState({pictureName:null,page:1,pictures:[],status:$})},e.scrollPageToEnd=function(){setTimeout((function(){window.scrollBy({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)},e.onLoadMoreBtn=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(d.a)(a,[{key:"onFetchPictures",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.pictureName,n=t.page,e.prev=1,e.next=4,A(a,n);case 4:if(0!==(r=e.sent).length){e.next=7;break}throw new Error;case 7:this.setState((function(e){return{pictures:[].concat(Object(l.a)(e.pictures),Object(l.a)(r)),status:te}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),this.setState({status:ae}),g();case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.pictureName,r=a.page;(t.pictureName!==n||t.page!==r)&&(this.setState({status:ee}),this.onFetchPictures()),r>1&&this.scrollPageToEnd()}},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.status,n=e.largeImageURL,r=e.imgTags,c=e.loader,o=t.length>0;return Object(v.jsxs)(C,{children:[Object(v.jsx)(b.a,{autoClose:4e3}),Object(v.jsx)(L,{onSearch:this.handleFormSubmit}),a===$&&Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("img",{src:Y,width:"1600",alt:"question",className:I.a.image})}),a===ee&&Object(v.jsx)(x,{}),a===te&&Object(v.jsx)(E,{pictures:t,handleImageClick:this.handleImageClick}),o&&Object(v.jsx)(W,{onClick:this.onLoadMoreBtn,"aria-label":"add contact"}),n&&Object(v.jsxs)(V,{onClose:this.onModalClose,children:[c&&Object(v.jsx)(y,{}),Object(v.jsx)("img",{src:n,alt:r,onLoad:this.hideLoaderInModal})]})]})}}]),a}(n.Component);a(80);o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(ne,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.aa68e8ef.chunk.js.map